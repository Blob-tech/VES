

<mat-menu  #institutes="matMenu" >
     <!--button *ngIf="isSysAdmin()" (click)="changeCurrentInstitute('SADMIN')" mat-menu-item>
         <mat-icon style="color : blue;font-size: 40px;">admin_panel_settings</mat-icon> System Admin
     </button-->
        <button (click)="changeCurrentInstitute(ins.organisation_id)"
         matTooltip="{{ins.organisation_name}}" *ngFor="let ins of roles['ins']" mat-menu-item>
            <img src="{{ins.avatar ? insUrl + ins.avatar : '/assets/images/insimg.png'}}" height=40 width=40>
            {{ins.organisation_name}}
        </button>
    </mat-menu>


<mat-toolbar color="accent" class="breadcrumb">
                <mat-toolbar-row>
                    <span class="module-button">
                            <button routerLink="/e-library/home" class="action-button"  mat-raised-button color="primary">
                                <mat-icon class="auto-flip">home </mat-icon> Home</button>
                      </span>
                  <span *ngIf="loggedinUser && current_ins.client_id"  class="module-button">
                        <button routerLink="/e-library/book-explorer/list/all/all" class="action-button"  mat-raised-button color="primary">
                            <mat-icon class="auto-flip">book </mat-icon> Books</button>
                  </span>
                    <span *ngIf="loggedinUser && current_ins.client_id && isSystemAdmin()" class="module-button">
                            <button routerLink="/e-library/subscriber/subscriber-management/categories"  class="action-button"  mat-raised-button color="primary">
                                <mat-icon class="auto-flip">local_library</mat-icon> People</button>
                            </span>
                            <span *ngIf="loggedinUser && current_ins.client_id && !isSystemAdmin()" class="module-button">
                                <button routerLink="/e-library/subscriber/subscriber-management/list/{{current_ins.organisation_id}}"  class="action-button"  mat-raised-button color="primary">
                                    <mat-icon class="auto-flip">local_library</mat-icon> People</button>
                                </span>
                    <span *ngIf="loggedinUser && current_ins.client_id" class="module-button">
                            <button routerLink="/e-library/institute/institute-management/list/all"  class="action-button"  mat-raised-button color="primary">
                                <mat-icon class="auto-flip">account_balance</mat-icon> Institutes</button>
                            </span>
                            <span  class="module-button">
                                    <button routerLink="/e-library/category/all"  class="action-button" mat-raised-button color="primary">
                                        <mat-icon class="auto-flip">category</mat-icon> Configuration Settings</button>
                            </span>
                            <span class="example-spacer module-button"></span>
                            <span *ngIf="loggedinUser && current_ins.client_id" class="module-button">
                                <button mat-button [matMenuTriggerFor]="institutes" > 
                                    <mat-icon *ngIf="current_ins.client_id == 'Admin'" style="color:white; font-size:30px">admin_panel_settings</mat-icon>
                                        <img *ngIf="current_ins.client_id != 'Admin'" src="{{current_ins.avatar ? insUrl + current_ins.avatar : '/assets/images/insimg.png'}}" height=50 width=50>
                                  {{current_ins.organisation_name ? current_ins.organisation_name : 'Select Institute'}}<mat-icon>keyboard_arrow_down</mat-icon></button>
                            </span>
                            <span *ngIf="loggedinUser && current_ins.client_id" class="mobile-module-button">
                                    <button [matMenuTriggerFor]="institutes"
                                      class="action-button"  mat-button matTooltip = "Select Institute">
                                     {{current_ins.organisation_name ? current_ins.client_id : 'Select Institute'}}
                                     <img *ngIf="current_ins.client_id != 'Admin'" src="{{current_ins.avatar ? insUrl + current_ins.avatar : '/assets/images/insimg.png'}}" style="border-radius: 50%;" height=50 width=50> 
                                     <mat-icon *ngIf="current_ins.client_id == 'Admin'" style="color:white; font-size:30px">admin_panel_settings</mat-icon>
                                    <mat-icon>keyboard_arrow_down</mat-icon> </button>
                                        
                              </span>
                            <!--span class="mobile-module-button">
                                    <button routerLink="/e-library/home" class="action-button"  mat-mini-fab color="primary" matTooltip = "Home">
                                        <mat-icon class="auto-flip">home </mat-icon> </button>
                                        
                              </span-->
                            <span *ngIf="loggedinUser && current_ins.client_id" class="mobile-module-button">
                                    <button routerLink="/e-library/book-explorer/list/all/all" class="action-button"  mat-mini-fab color="primary" matTooltip = "Books">
                                        <mat-icon class="auto-flip">book </mat-icon> </button>
                              </span>
                                <span *ngIf="loggedinUser && current_ins.client_id" class="mobile-module-button">
                                        <button routerLink="/e-library/subscriber/subscriber-management/categories"  class="action-button"  mat-mini-fab color="primary" matTooltip ="People"> 
                                            <mat-icon class="auto-flip">local_library</mat-icon></button>
                                        </span>
                                <span *ngIf="loggedinUser && current_ins.client_id" class="mobile-module-button">
                                        <button routerLink="/e-library/institute/institute-management/list/all"  class="action-button"  mat-mini-fab color="primary" matTooltip = "Institutes">
                                            <mat-icon class="auto-flip">account_balance</mat-icon></button>
                                        </span>
                                        <span *ngIf="loggedinUser && current_ins.client_id && isInstituteAdmin()" class="mobile-module-button">
                                                <button routerLink="/e-library/category/all"  class="action-button" mat-mini-fab color="primary" matTooltip = " Configuration Settings">
                                                    <mat-icon class="auto-flip">category</mat-icon></button>
                                        </span>
                  </mat-toolbar-row>
              </mat-toolbar>

<mat-drawer-container>
        <router-outlet></router-outlet>
</mat-drawer-container>

<div *ngIf="showLoader" class="loader">
        <mat-spinner color="primary"></mat-spinner><br>
        <span style="color: white; position: fixed; top:400px">Loading ...</span>
        </div>

